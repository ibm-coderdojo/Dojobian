#!/bin/bash
#######################################################################
#  UpgradeDebian9to10.sh
#######################################################################

echo " 
#######################################################################
#  Update Debian 9 (stretch) to the latest version
#######################################################################
"
apt update
apt -y upgrade
apt -y autoremove

echo " 
#######################################################################
#  Change APT repository from stretch (Debian 9) to buster (Debian 10)
#######################################################################
"
sed -e "s/stretch/buster/g" -i /etc/apt/sources.list
sed -e "s/stretch/buster/g" -i /etc/apt/sources.list.d/*

echo " 
#######################################################################
#  Update the packages index to Debian 10 (buster)
#######################################################################
"
apt update

echo " 
#######################################################################
#  Prepare the system for upgrade to Debian 10 (buster)
#######################################################################
"
apt -y upgrade

echo " 
#######################################################################
#  Upgrade the system to Debian 10 (buster)
#######################################################################
"
apt -y full-upgrade
apt -y autoremove

echo " 
#######################################################################
#  Reboot the system with the new Debian 10 (buster)
#######################################################################
"
reboot
